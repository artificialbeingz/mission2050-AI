import { BaseSite, Province, ProjectStage } from './siteTypes';

export type ManufacturingSector = 
  | 'ev_battery' 
  | 'ev_assembly' 
  | 'solar_panels' 
  | 'wind_turbines' 
  | 'hydrogen' 
  | 'semiconductors'
  | 'battery_recycling'
  | 'critical_minerals_processing';

export type FacilityScale = 'pilot' | 'small' | 'medium' | 'large' | 'gigascale';

export interface ManufacturingSite extends BaseSite {
  category: 'manufacturing';
  sector: ManufacturingSector;
  facilityScale: FacilityScale;
  facilitySizeSqFt: number;
  availableLandAcres: number;
  jobsCreated: number;
  annualOutputCapacity: string; // e.g., "50 GWh", "100,000 vehicles"
  powerRequirementMW: number;
  waterRequirementMLPerDay: number;
  nearestRailKm: number;
  nearestPortKm: number;
  workforceAvailability: 'excellent' | 'good' | 'moderate' | 'limited';
  supplyChainProximity: string[];
  governmentIncentives: string[];
  ftzAvailable: boolean; // Foreign Trade Zone
  existingInfrastructure: 'greenfield' | 'brownfield' | 'existing_industrial';
}

export const manufacturingSites: ManufacturingSite[] = [
  {
    id: "mfg-on-001",
    name: "Windsor EV Battery Gigafactory",
    category: "manufacturing",
    latitude: 42.3149,
    longitude: -83.0364,
    province: "ON",
    region: "Windsor-Essex",
    stage: "construction",
    viabilityScore: 95,
    estimatedCapex: 5200,
    description: "Stellantis-LG partnership gigafactory producing EV batteries for North American auto market.",
    sector: "ev_battery",
    facilityScale: "gigascale",
    facilitySizeSqFt: 4500000,
    availableLandAcres: 350,
    jobsCreated: 2500,
    annualOutputCapacity: "45 GWh",
    powerRequirementMW: 200,
    waterRequirementMLPerDay: 8,
    nearestRailKm: 2,
    nearestPortKm: 5,
    nearestHighwayKm: 1,
    nearestGridKm: 0.5,
    workforceAvailability: "excellent",
    supplyChainProximity: ["US Auto Plants", "Quebec Lithium", "Ontario Nickel"],
    governmentIncentives: ["Federal Strategic Innovation Fund", "Ontario Automotive Investment"],
    ftzAvailable: true,
    existingInfrastructure: "brownfield",
    owner: "NextStar Energy (Stellantis-LG JV)",
  },
  {
    id: "mfg-qc-001",
    name: "Bécancour Battery Materials Hub",
    category: "manufacturing",
    latitude: 46.3333,
    longitude: -72.4333,
    province: "QC",
    region: "Centre-du-Québec",
    stage: "permitting",
    viabilityScore: 92,
    estimatedCapex: 1800,
    description: "Integrated cathode active materials plant leveraging Quebec's clean power and mineral supply.",
    sector: "critical_minerals_processing",
    facilityScale: "large",
    facilitySizeSqFt: 800000,
    availableLandAcres: 120,
    jobsCreated: 850,
    annualOutputCapacity: "100,000 tonnes CAM",
    powerRequirementMW: 150,
    waterRequirementMLPerDay: 5,
    nearestRailKm: 1,
    nearestPortKm: 150,
    nearestHighwayKm: 2,
    nearestGridKm: 0.3,
    workforceAvailability: "good",
    supplyChainProximity: ["Quebec Lithium Mines", "Port of Montreal", "US Battery Plants"],
    governmentIncentives: ["Quebec Battery Strategy", "Federal Critical Minerals Fund"],
    ftzAvailable: false,
    existingInfrastructure: "existing_industrial",
    owner: "BASF / GM Partnership",
  },
  {
    id: "mfg-on-002",
    name: "Alliston EV Assembly Expansion",
    category: "manufacturing",
    latitude: 44.1531,
    longitude: -79.8728,
    province: "ON",
    region: "Simcoe County",
    stage: "planning",
    viabilityScore: 88,
    estimatedCapex: 1500,
    description: "Honda Canada retooling existing plant for full EV production with expanded capacity.",
    sector: "ev_assembly",
    facilityScale: "large",
    facilitySizeSqFt: 3200000,
    availableLandAcres: 200,
    jobsCreated: 1200,
    annualOutputCapacity: "200,000 EVs/year",
    powerRequirementMW: 80,
    waterRequirementMLPerDay: 4,
    nearestRailKm: 5,
    nearestPortKm: 120,
    nearestHighwayKm: 1,
    nearestGridKm: 1,
    workforceAvailability: "excellent",
    supplyChainProximity: ["Windsor Battery Plant", "US Parts Suppliers", "Ontario Steel"],
    governmentIncentives: ["Ontario EV Manufacturing Credit", "Federal Auto Innovation Fund"],
    ftzAvailable: true,
    existingInfrastructure: "existing_industrial",
    owner: "Honda Canada",
  },
  {
    id: "mfg-ab-001",
    name: "Edmonton Hydrogen Hub",
    category: "manufacturing",
    latitude: 53.5444,
    longitude: -113.4909,
    province: "AB",
    region: "Edmonton Industrial Heartland",
    stage: "assessment",
    viabilityScore: 84,
    estimatedCapex: 2800,
    description: "Blue hydrogen production facility with carbon capture for industrial decarbonization.",
    sector: "hydrogen",
    facilityScale: "large",
    facilitySizeSqFt: 400000,
    availableLandAcres: 250,
    jobsCreated: 400,
    annualOutputCapacity: "300,000 tonnes H2/year",
    powerRequirementMW: 350,
    waterRequirementMLPerDay: 15,
    nearestRailKm: 3,
    nearestPortKm: 2500,
    nearestHighwayKm: 2,
    nearestGridKm: 1,
    workforceAvailability: "excellent",
    supplyChainProximity: ["Natural Gas Supply", "Pipeline Network", "Industrial Customers"],
    governmentIncentives: ["Alberta Petrochemicals Incentive", "Federal Clean Hydrogen Strategy"],
    ftzAvailable: false,
    existingInfrastructure: "existing_industrial",
  },
  {
    id: "mfg-on-003",
    name: "Kingston Battery Recycling Center",
    category: "manufacturing",
    latitude: 44.2312,
    longitude: -76.4860,
    province: "ON",
    region: "Eastern Ontario",
    stage: "opportunity",
    viabilityScore: 81,
    estimatedCapex: 450,
    description: "Circular economy facility for EV battery recycling and materials recovery.",
    sector: "battery_recycling",
    facilityScale: "medium",
    facilitySizeSqFt: 250000,
    availableLandAcres: 45,
    jobsCreated: 350,
    annualOutputCapacity: "25,000 tonnes batteries/year",
    powerRequirementMW: 25,
    waterRequirementMLPerDay: 2,
    nearestRailKm: 4,
    nearestPortKm: 280,
    nearestHighwayKm: 2,
    nearestGridKm: 3,
    workforceAvailability: "good",
    supplyChainProximity: ["Ontario EV Dealers", "Quebec Battery Plants", "US Markets"],
    governmentIncentives: ["Ontario Circular Economy Fund", "Federal Battery Recycling Program"],
    ftzAvailable: false,
    existingInfrastructure: "brownfield",
  },
  {
    id: "mfg-bc-001",
    name: "Surrey Solar Panel Manufacturing",
    category: "manufacturing",
    latitude: 49.1044,
    longitude: -122.8011,
    province: "BC",
    region: "Metro Vancouver",
    stage: "planning",
    viabilityScore: 78,
    estimatedCapex: 650,
    description: "Domestic solar panel production to reduce import dependency and serve Western Canada.",
    sector: "solar_panels",
    facilityScale: "medium",
    facilitySizeSqFt: 350000,
    availableLandAcres: 35,
    jobsCreated: 500,
    annualOutputCapacity: "2 GW panels/year",
    powerRequirementMW: 40,
    waterRequirementMLPerDay: 1.5,
    nearestRailKm: 6,
    nearestPortKm: 25,
    nearestHighwayKm: 1,
    nearestGridKm: 2,
    workforceAvailability: "good",
    supplyChainProximity: ["Port of Vancouver", "Asian Suppliers", "Western Canadian Markets"],
    governmentIncentives: ["BC Clean Tech Fund", "Federal Net-Zero Accelerator"],
    ftzAvailable: true,
    existingInfrastructure: "greenfield",
  },
  {
    id: "mfg-qc-002",
    name: "Trois-Rivières Wind Turbine Factory",
    category: "manufacturing",
    latitude: 46.3432,
    longitude: -72.5477,
    province: "QC",
    region: "Mauricie",
    stage: "assessment",
    viabilityScore: 76,
    estimatedCapex: 800,
    description: "Wind turbine nacelle and blade manufacturing for Eastern Canadian market.",
    sector: "wind_turbines",
    facilityScale: "large",
    facilitySizeSqFt: 600000,
    availableLandAcres: 80,
    jobsCreated: 650,
    annualOutputCapacity: "500 turbines/year",
    powerRequirementMW: 35,
    waterRequirementMLPerDay: 1,
    nearestRailKm: 2,
    nearestPortKm: 120,
    nearestHighwayKm: 1,
    nearestGridKm: 0.5,
    workforceAvailability: "good",
    supplyChainProximity: ["Port of Montreal", "Quebec Steel", "Atlantic Wind Projects"],
    governmentIncentives: ["Quebec Green Economy Fund", "Federal Clean Energy Manufacturing"],
    ftzAvailable: false,
    existingInfrastructure: "brownfield",
  },
  {
    id: "mfg-on-004",
    name: "Waterloo Semiconductor Fab",
    category: "manufacturing",
    latitude: 43.4643,
    longitude: -80.5204,
    province: "ON",
    region: "Waterloo Region",
    stage: "opportunity",
    viabilityScore: 72,
    estimatedCapex: 4500,
    description: "Advanced semiconductor fabrication facility targeting automotive and AI chip markets.",
    sector: "semiconductors",
    facilityScale: "large",
    facilitySizeSqFt: 500000,
    availableLandAcres: 60,
    jobsCreated: 1800,
    annualOutputCapacity: "50,000 wafers/month",
    powerRequirementMW: 120,
    waterRequirementMLPerDay: 20,
    nearestRailKm: 8,
    nearestPortKm: 150,
    nearestHighwayKm: 2,
    nearestGridKm: 1,
    workforceAvailability: "excellent",
    supplyChainProximity: ["University of Waterloo", "Toronto Tech Hub", "US Auto Industry"],
    governmentIncentives: ["Federal Semiconductor Strategy", "Ontario R&D Tax Credit"],
    ftzAvailable: true,
    existingInfrastructure: "greenfield",
  },
];

export const getSectorLabel = (sector: ManufacturingSector): string => {
  const labels: Record<ManufacturingSector, string> = {
    ev_battery: 'EV Batteries',
    ev_assembly: 'EV Assembly',
    solar_panels: 'Solar Panels',
    wind_turbines: 'Wind Turbines',
    hydrogen: 'Hydrogen',
    semiconductors: 'Semiconductors',
    battery_recycling: 'Battery Recycling',
    critical_minerals_processing: 'Minerals Processing',
  };
  return labels[sector];
};

export const getSectorColor = (sector: ManufacturingSector): string => {
  const colors: Record<ManufacturingSector, string> = {
    ev_battery: '#00D4AA',
    ev_assembly: '#3498DB',
    solar_panels: '#F1C40F',
    wind_turbines: '#2ECC71',
    hydrogen: '#9B59B6',
    semiconductors: '#E74C3C',
    battery_recycling: '#E67E22',
    critical_minerals_processing: '#1ABC9C',
  };
  return colors[sector];
};

export const getScaleLabel = (scale: FacilityScale): string => {
  const labels: Record<FacilityScale, string> = {
    pilot: 'Pilot',
    small: 'Small',
    medium: 'Medium',
    large: 'Large',
    gigascale: 'Gigascale',
  };
  return labels[scale];
};
